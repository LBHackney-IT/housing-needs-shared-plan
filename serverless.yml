service: hn-shared-plan

provider:
  name: aws
  runtime: nodejs12.x
  region: eu-west-2
  stage: ${opt:stage}
  profile: hnserverless

plugins:
  - serverless-offline

package:
  individually: true
  exclude:
    - ./**
    - ./node_modules/aws-sdk/**
    - ./node_modules/serverless/**
    - ./node_modules/typescript/**
    - ./node_modules/@serverless/**
    - ./node_modules/prettier/**

functions:
  hn-shared-plan:
    name: hn-shared-plan-${self:provider.stage}
    handler: lambda.handler
    package:
      include:
        - lambda.js
        - lib/**
        - pages/**
        - node_modules/**
    events:
      - http: ANY /
      - http: ANY /{proxy+}

    environment:
      ENV: ${self:provider.stage}
